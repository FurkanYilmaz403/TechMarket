<div class="main-content page-m">
    <div class="section-content section-content-p30">
        <div class="container-fluid">
            <form [formGroup]="addProductFormGroup" (ngSubmit)="onSubmit()">
                <div formGroupName="product" class="form-area">
                    <h3>Add New Product</h3>
                    <div class="row">
                        <div class="col-md-2"><label>Product Name</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <input formControlName="name" type="text">
                                <div *ngIf="name?.invalid && (name?.dirty || name?.touched)"
                                    class="alert alert-danger mt-1">
                                    <div *ngIf="name?.errors!['required'] || name?.errors!['notOnlyWhitespace']">
                                        Product name is required
                                    </div>
                                    <div *ngIf="name?.errors!['minlength']">
                                        Product name must be at least 2 characters long
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2"><label>Product Description</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <input formControlName="description" type="text">
                                <div *ngIf="description?.invalid && (description?.dirty || description?.touched)"
                                    class="alert alert-danger mt-1">
                                    <div
                                        *ngIf="description?.errors!['required'] || description?.errors!['notOnlyWhitespace']">
                                        Product description is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2"><label>Product Price</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <input formControlName="unitPrice" type="number">
                                <div *ngIf="unitPrice?.invalid && (unitPrice?.dirty || unitPrice?.touched)"
                                    class="alert alert-danger mt-1">
                                    <div *ngIf="unitPrice?.errors!['required']">
                                        Product price is required
                                    </div>
                                    <div *ngIf="unitPrice?.errors!['pattern']">
                                        Please enter a valid price with up to 2 decimal places.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2"><label>Stock</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <input formControlName="stock" type="number">
                                <div *ngIf="stock?.invalid && (stock?.dirty || stock?.touched)"
                                    class="alert alert-danger mt-1">
                                    <div *ngIf="stock?.errors!['required']">
                                        Stock is required
                                    </div>
                                    <div *ngIf="stock?.errors!['pattern']">
                                        Please enter a valid stock number.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2"><label>Category</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <select formControlName="category">
                                    <option *ngFor="let tempProductCategory of productCategories"
                                        [ngValue]="tempProductCategory.id">
                                        {{tempProductCategory.categoryName}}</option>
                                </select>
                                <div *ngIf="category?.invalid && (category?.dirty || category?.touched)"
                                    class="alert alert-danger mt-1">
                                    <div *ngIf="category?.errors!['required']">
                                        Category is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-info">Add product</button>
                </div>
            </form>
        </div>
    </div>
</div>